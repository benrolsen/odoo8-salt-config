This repo contains Salt Masterless files to quickly set up an Odoo 8.0 environment.
Only CentOS 7 is supported.

First install the EPEL and do a system update:
yum install -y epel-release
PostgreSQL 9.3 has enough improvements that it's worth getting. This adds the official repo:
rpm -iUvh http://yum.postgresql.org/9.3/redhat/rhel-7-x86_64/pgdg-centos93-9.3-1.noarch.rpm
yum update

To get started on a new VM, first install git and salt-minion:
yum install -y git salt-minion

Download this repo to /srv/salt on the VM:
mkdir /srv/salt; cd /srv/salt
git clone https://github.com/benrolsen/odoo8-salt-config.git .

Copy the minion conf file to the appropriate place:
mkdir -p /etc/salt/minion.d
cp minion-conf /etc/salt/minion.d/odoo-minion.conf

Tell Salt to run all configurations:
salt-call --local state.highstate > hightstate.log

May need to do this to fix nginx:
cp /etc/nginx/nginx.conf.default /etc/nginx/nginx.conf
nginx is getting a permission denied when connecting to upstream:
set disabled /etc/selinux/config

Go back to /root and download a nightly Odoo RPM from:
http://nightly.odoo.com/8.0/nightly/rpm/
You can use latest, but that makes it harder to tell which RPM we're running
wget http://nightly.odoo.com/8.0/nightly/rpm/odoo_8.0-latest.noarch.rpm
wget http://nightly.odoo.com/8.0/nightly/rpm/odoo_8.0-20141112-010204.noarch.rpm

Install the Odoo RPM:
rpm -Uvh odoo_8.0-latest.noarch.rpm

Start the Odoo server on CentOS 7:
systemctl start odoo-server


To update the odoo code, first change to the odoo user:
su - odoo
Download a new RPM and upgrade (or downgrade) it with the same steps as above.
Then update the odoo-custom-addons code bases:
cd /home/odoo/openerp-custom-addons
git pull

You'll need to stop the odoo-server service and manually reload all the DB data from files:
(as root) systemctl stop odoo-server
(as odoo) /opt/odoo/odoo/openerp-server -c /etc/odoo/odoo-server.conf -u all
Make sure to load a page so the reload happens, and then kill the manual process:
(as root) systemctl start odoo-server
